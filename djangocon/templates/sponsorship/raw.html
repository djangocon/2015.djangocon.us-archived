{% load sponsorship_tags %}
{% load thumbnail %}

{% sponsors as all_sponsors %}
{% regroup all_sponsors by level as sponsors_list %}

<h1>Sponsor block (plain)</h1>
<div>
{% for sponsor in sponsors_list %}
<p>
  <strong>{{ sponsor.grouper }} Level:</strong>
  {% for sponsor in sponsor.list %}
  <span>
    {% if not forloop.first %} | {% endif %}
    <a href="{{ sponsor.external_url }}">
      {{ sponsor }}
    </a>
  </span>
  {% endfor %}
</p>
{% endfor %}
</div>

<hr>

<h1>Sponsor block table (rich / logo)</h1>

<div>
{% for sponsor in sponsors_list%}
  <h1>{{ sponsor.grouper }}</h1>
  <table>
    <tbody>
      <tr>
      {% for sponsor in sponsor.list %}
      <td>
        <a href="{{ sponsor.external_url }}">
          <img src="{% thumbnail sponsor.website_logo "132x80" %}" alt="{{ sponsor.name }}" />
          <div>
            {{ sponsor }}
          </div>
        </a>
      </td>
      {% if forloop.counter|divisibleby:4 %}
        </tr><tr>
      {% endif %}
      {% endfor %}
      </tr>
    </tbody>
  </table>
{% endfor %}
</div>

<hr>

<h1>Sponsor block list (rich / logo)</h1>

<div>
{% for sponsor in sponsors_list%}
  <h3>{{ sponsor.grouper }}</h3>
  {% for sponsor in sponsor.list %}
  <p>
    <a href="{{ sponsor.external_url }}">
      <img src="{% thumbnail sponsor.website_logo "132x80" %}" alt="{{ sponsor.name }}" />
      <div>
        {{ sponsor }}
      </div>
    </a>
  </p>
  {% endfor %}
{% endfor %}
</div>
